## 문제

[18185](https://www.acmicpc.net/problem/18185)

## 해결 방법

항상 3개를 구매하는 것이 최선이 아닐 수 있다.

r1,r2,r3,r4 에서 4 6 2 5를 고민해보자. 구간 1부터 4이라고 했을 때 1-3을 2회 구매하면 2 4 0 5가 된다.

그리고 다시 구간 1-2를 2회 구매하면 0 2 0 5 가 된다.

이제 3\*7를 더하면 총 비용은 45가 된다.

그런데 4 6 2 5를 1,2를 4번 구매하면 2 2 5가 된다 구간 1-3을 2번 사고 남은 3을 3번 사면 비용은 5*4 + 7*3 + 3으로 43이다.

즉 항상 3개를 구매하는건은 최선의 선택이 아닐 수 있다.

그렇다면 어떻게 최적해를 구할 수 있을까 ?

3개를 구매할 수 있는 상황에서 r2 > r3의 경우 t는 min(r1,r3)으로 구할 수 있는데 r2 > r3이 t보다 큰 경우 r1과 r2 그리고 r2와 r3를 2개씩 구매하는 전략을 고민해볼 수 있다.

이때 r2 < r3인 경우 무조건 3개 사는 전략이 유효한데, r2 > r3인 경우에 대해서 2개 묶음을 구매하더라도 이후 r2,r3,r4인 경우에 대해서 3개 묶음으로 사기 전략이 있을 수 있으므로 (즉 r1,r2,r3,r4이 모두 존재하고)

r2 > r3 && r1 && r2 && r3 < r4 인 경우에 대해서 r2,r3,r4에 3개 묶음 전략을 앞에서 사용해서 사용할 수 없을 때 그러하다.
